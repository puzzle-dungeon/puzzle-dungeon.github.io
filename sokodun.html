<!DOCTYPE html>
<html lang="en">
<head>
<base href="https://puzzle-dungeon.github.io/">
<link rel="canonical" href="https://puzzle-dungeon.github.io/sokodun.html">
<meta charset="UTF-8">
<meta name="description" content="Puzzle Dungeon is a cell-based puzzle game.
	Page: Sokodun">
<meta name="keywords" content="puzzles, puzzle game, dungeon,
	atomix, stoneage, chip challenge,
	sokoban, sokoban solver, sokoban generator,
	atomix puzzle,
	barrel puzzle,
	color puzzle,
	fifteen puzzle,
	gate puzzle,
	hero puzzle,
	lock puzzle,
	memory puzzle,
	minotaur puzzle,
	mirror puzzle,
	portal puzzle,
	rotatepic puzzle,
	stoneage puzzle,
	switchbox puzzle,
	puzzle dungeon">
<link rel="icon" type="image/png" href="images/ancient2/portal.png">
<title>Puzzle Dungeon - Sokodun</title>
<style>
html {
	height: 100%;
}
body {
	margin: 0px;
	width: 100%;
	height: 100%;
}

div {
	margin: 0px;
	padding: 0px;
}

#body {
	display: grid;
	grid-gap: 0px;
	grid-template-columns: 256px;
	grid-template-rows: 128px 128px;
	grid-template-areas:
		"logo    header"
		"logo    content"
		"sidebar content";
	height: 100%;
}

#logo {
	grid-area: logo;
}

#sidebar {
	grid-area: sidebar;
	background: url("sidebar-bg.jpg") repeat #dcb;
	color: navy;
	padding: 10px;
	text-align: center;
}

#header {
	grid-area: header;
	background: url("header-bg.jpg") repeat #234;
}

#content {
	grid-area: content;
	background: url("content-bg.jpg") repeat #567;
	padding: 10px;
	color: #f0f0f0;
}

#categories {
	margin: 0px 0px;
	display: flex;
	flex-wrap: wrap;
	justify-content: space-evenly;
	align-items: center;
	height: 100%;
}

button {
	white-space: nowrap;
	font-family: Arial, sans-serif;
}

a {
	text-decoration: none;
}

.category {
	margin: auto 7px;
	border: 1px solid black;
	border-radius: 16px;
	width: 160px;
	height: 52px;
	background: #4e5f6d;
	color: #e0e0e0;
	font-size: 22px;
	font-weight: bold;
	text-decoration: none;
}

.current-category {
	background: #46b482;
}

.category:hover {
	background: #4682b4;
	color: white;
	transform: translateY(-3px) scale(110%);
}

.current-category:hover {
	background: #46b482;
}

.page {
	display: block;
	margin: 3px auto;
	border: 1px solid rgba(32, 32, 32, 0.2);
	border-radius: 3px;
	width: 220px;
	height: 30px;
	overflow: hidden;
	background: transparent;
	backdrop-filter: brightness(90%);
	color: #111;
	font-size: 18px;
	font-weight: normal;
}

.current-page {
	backdrop-filter: hue-rotate(80deg) brightness(90%);
}

.page:hover {
	transform: scale(105%);
	backdrop-filter: hue-rotate(110deg) brightness(90%);
	color: #000;
}

.current-page:hover {
	backdrop-filter: hue-rotate(80deg) brightness(90%);
}

#sidebar hr {
	border: 0.5px solid rgba(32, 32, 32, 0.2);
	width: 200px;
	margin: 12px auto;
}

#content h1 {
	margin: -10px;
	margin-bottom: 0px;
	padding: 10px;
	backdrop-filter: brightness(90%);
	text-align: center;
}

#content > code {
	display: block;
	padding: 10px;
	backdrop-filter: contrast(60%);
}

#content table {
	color: inherit;
	padding: 10px;
	border: solid 1px #234;
}

#content a {
	color: rgb(255, 255, 128);
	text-decoration: none;
}

#content a:visited {
	color: rgb(100, 200, 40);
}

#content a:active {
	color: rgb(220, 110, 110);
}

.news > li {
	padding: 0px 0px 6px 0px;
}

.news > li:has(ul) {
	font-weight: bold;
}

.news > li > ul {
	margin: 2px 0px 0px 0px;
	font-weight: normal;
}

.news > li > ul > li {
	padding: 2px 0px 1px 0px;
}

.news > li > ul > li > ul {
	margin: 1px 0px 0px 0px;
}

.news > li > ul > li > ul > li {
	padding: 1px 0px 0px 0px;
}

.puzzle-entry {
	display: flex;
	justify-content: space-evenly;
	align-items: center;
	border-bottom: 1px solid rgba(16, 16, 16, 0.4);
}

.puzzle-info {
	flex: 1;
}

.puzzle-info p:not(.goal) {
	text-align: justify;
	text-justify: auto;
	padding-right: 10px;
}

.puzzle-screenshot {
	width: 256px;
}

.puzzle-screenshot img {
	width: 256px;
	object-fit: scale-down;
	padding: 6px 0px;
}

p.goal {
	 font-style: italic;
}

p.goal:before {
	 content: "Goal: ";
}

.theme-images {
	width: 0;
	min-width: 100%;
	overflow-x: auto;
}

#img-table {
	width: 100%;
	padding: 10px;
	table-layout: fixed;
}

#img-table tr > * {
	margin: 0px;
	padding: 1px;
	white-space: nowrap;
	text-align: center;
	vertical-align: middle;
}

#img-table th {
	font: 14px Arial, sans-serif;
	overflow: hidden;
}

#img-table tr:first-child > th:not(:first-child) {
	font-size: 12px;
}

#img-table .zoom,
#img-table tr > th:not(:first-child) {
	height: 32px;
}

#img-table th:first-child {
	width: 70px;
}

.img-table-full tr > th:first-child {
	height: 64px;
}

.img-table-half tr > th:first-child {
	height: 28px;
}

.img-table-full tr > th:not(:first-child) {
	width: 64px;
}

.img-table-half tr > th:not(:first-child) {
	width: 28px;
}

.img-table-half tr > td {
	width: 28px;
	height: 28px;
}

.img-table-full tr > td {
	width: 64px;
	height: 64px;
}

.img-table-half img {
	width: 28px;
	height: 28px;
}

.img-table-full img {
	width: 64px;
	height: 64px;
}

.img-table-full img[title="char"], .img-table-full img[title="enemy"] {
	width: 50px;
	height: 50px;
}

#img-table .zoom {
	text-align: left;
}

.home-medias {
	width: 100%;
	display: flex;
	flex-wrap: nowrap;
	justify-content: center;
	align-items: center;
}

.all-medias {
	width: 100%;
	display: flex;
	flex-wrap: wrap;
	justify-content: space-evenly;
	align-items: flex-start;
}

.home-medias .media {
	margin: 4px;
	max-width: 20%;
}

.all-medias .media {
	margin: 4px;
	flex-basis: 24%;
	max-width: 24%;
}

.media img, .media video {
	width: 100%;
	object-fit: scale-down;
}

.media-title {
	margin: 2px;
	height: 20px;
	text-align: center;
	white-space: nowrap;
	overflow: hidden;
	color: #ffffa0;
}

.media-container {
	padding: 1px;
	width: 100%;
	text-align: center;
}

p:has(.media-container) {
	width: 100%;
	text-align: center;
}

.media {
	object-fit: scale-down;
	margin: 0px auto;
}

.media-property {
	display: inline;
	float: right;
	padding: 0px 10px 0px 30px;
}

pre.highlight  {
	width: 100%;
	color: #e0e0e0;
	background-color: #6080c0;
	font-size: 10pt;
	font-family: 'Courier New', monospace;
	white-space: pre;
	overflow: auto;
}
.highlight.num { color: #60f0f0; }
.highlight.sng { color: #60f0f0; }
.highlight.opt { color: #ffffff; }
.highlight.kwa { color: #ffffff; font-weight: bold; }
.highlight.kwb { color: #f0a0a0; }
.highlight.kwd { color: #a0f0a0; }
</style>
</head>

<body>
<div id="body">
<div id="logo">
<a href="./"><img src="puzzle-dungeon-logo.jpg" alt="Ⓟⓤⓩⓩⓛⓔ Ⓓⓤⓝⓖⓔⓞⓝ"></a>
</div>
<div id="sidebar">
<a href="./"><button class="page">About</button></a>
<a href="news.html"><button class="page">News</button></a>
<a href="download.html"><button class="page">Download</button></a>
<a href="dungeon.html"><button class="page">dungeon <i>(tool)</i></button></a>
<a href="sokodun.html"><button class="page current-page">sokodun <i>(tool)</i></button></a>
<a href="sokobansolver.html"><button class="page">Sokoban Solver</button></a>
<a href="resources.html"><button class="page">Resources</button></a>
<a href="authors.html"><button class="page">Authors</button></a>
<hr>
<a href="puzzles/"><button class="page">Puzzles</button></a>
<a href="videos/"><button class="page">Videos</button></a>
<a href="screenshots/"><button class="page">Screenshots</button></a>
<a href="themes/"><button class="page">Themes</button></a>
<a href="tutorials/"><button class="page">Tutorials</button></a>

</div>
<div id="header">
<div id="categories">
<a href="./"><button class="category current-category">Home</button></a>
<a href="./puzzles/"><button class="category">Puzzles</button></a>
<a href="./videos/"><button class="category">Videos</button></a>
<a href="./screenshots/"><button class="category">Screenshots</button></a>
<a href="./themes/"><button class="category">Themes</button></a>
<a href="./tutorials/"><button class="category">Tutorials</button></a>
</div>
</div>
<div id="content">
<h1 id="puzzle-dungeon-sokoban-solver-cli---sokodun">Puzzle Dungeon
Sokoban Solver CLI - sokodun</h1>
<h2 id="overview">Overview</h2>
<p><code>sokodun</code> is the command-line interface for the <a
href="sokobansolver.html">Puzzle Dungeon Sokoban Solver</a>. It uses the
same solver code as the GUI and reports progress incrementally by
default.</p>
<p>Using a dedicated command-line tool improves performance and enables
automation when solving entire collections.</p>
<p>Pressing <em>Ctrl-C</em> stops the current level solution (similarly
to reaching a time limit). The user is then prompted either to continue
with the next level by pressing <em>Enter</em>, or to terminate solving
completely by pressing <em>Ctrl-C</em> again.</p>
<p><a href="screenshots/sokodun-usage.html" class="media-container"><img
src="screenshots/sokodun-usage.webp" title="sokodun usage" class="media"
style="width: 60%" /></a></p>
<h2 id="basic-usage">Basic Usage</h2>
<p>Run <code>sokodun -h</code> or <code>sokodun --help</code> from the
command line to see the full usage. The screenshot lists all options and
shows an example run. Your actual <code>sokodun --help</code> output may
be slightly different, since this is an evolving project.</p>
<p>Multiple levels or collections may be specified. Nearly all commonly
used sources and formats of Sokoban maps are supported.</p>
<h2 id="level-selection">Level Selection</h2>
<p>The following arguments may be used to construct a cumulative custom
level collection:</p>
<ul>
<li>Collection IDs<br />
→ <code>sokoban/takaken</code> (only BarrelPuzzle collections are
supported)</li>
<li>Level IDs<br />
→ <code>sokoban/micro/picokosmos.3</code></li>
<li>Map files (Sokoban map files and internal maps are
auto-detected)<br />
→ <code>microcosmos.txt</code></li>
<li>Clipboard input (map or URL supported)<br />
→ <code>clipboard:</code></li>
<li>Standard input (map or URL supported)<br />
→ <code>stdin:</code> <em>or</em> <code>-</code></li>
<li>Map files via URL<br />
→
<code>https://gamefaqs.gamespot.com/sg1000/916324-soukoban/faqs/50888</code></li>
<li>LetsLogic collection IDs<br />
→ <code>letslogic:30</code> <em>or</em>
<code>"letslogic:Micro Cosmos"</code></li>
<li>LetsLogic level IDs (after loading their collection)<br />
→ <code>letslogic:/2376</code></li>
</ul>
<p>Multiple level ranges such as <code>2-10</code> or <code>15</code>
are supported. They restrict the custom collection to the given level
numbers starting from 1.</p>
<h2 id="algorithm-selection">Algorithm Selection</h2>
<p>Exactly one algorithm may be selected:</p>
<ul>
<li><code>-A</code>, <code>--astar</code><br />
A* Search</li>
<li><code>-B</code>, <code>--bfs</code><br />
Breadth-First Search</li>
<li><code>-U</code>, <code>--ucs</code><br />
Uniform Cost Search</li>
<li><code>-G</code>, <code>--greed</code><br />
Greedy Search</li>
<li><code>-D</code>, <code>--dfs</code><br />
Depth-First Search</li>
</ul>
<h2 id="solution-type">Solution Type</h2>
<p>By default, the solver searches for push-optimal solutions. This may
be changed as follows:</p>
<ul>
<li><code>-m</code>, <code>--by-moves</code><br />
Find move-optimal solutions instead of shift-optimal ones.</li>
</ul>
<h2 id="solver-behavior">Solver Behavior</h2>
<ul>
<li><p><code>-1</code>, <code>--return-first</code><br />
Return the first found solution (not necessarily optimal).</p></li>
<li><p><code>-0</code>, <code>--disable-budget</code><br />
Disable periodic progress reporting.</p></li>
<li><p><code>-_</code>, <code>--disable-prepare</code><br />
Disable heuristic preparation (debug use only).</p></li>
<li><p><code>-T SEC</code>, <code>--limit-time SEC</code><br />
Stop solving after the given time limit in seconds. Any solution found
(even if non-optimal), or no solution, is returned.</p></li>
</ul>
<h2 id="output-options">Output Options</h2>
<ul>
<li><p><code>-s</code>, <code>--show-sok</code><br />
Show the map in standard Sokoban format rather than the internal
format.</p></li>
<li><p><code>-x</code>, <code>--show-dead</code><br />
Display dead-barrel cells. These are shown in red when color output is
available, or as <em>☓</em> otherwise.</p></li>
<li><p><code>-t</code>, <code>--show-time</code><br />
Show solving time per level.</p></li>
<li><p><code>-q</code>, <code>--quiet</code><br />
Reduce output verbosity per level (repeatable, up to four
<code>-q</code> flags).</p></li>
</ul>
<h2 id="reverse-barrel-mode">Reverse Barrel Mode</h2>
<ul>
<li><code>-r</code>, <code>--reverse-barrel-mode</code><br />
Enable pull-based solving for specified levels.</li>
</ul>
<h2 id="records-and-comparison">Records and Comparison</h2>
<ul>
<li><code>-R FILE</code>, <code>--record-file FILE</code><br />
Compare results with stored records.</li>
</ul>
<p>The record file is a text file containing one line per level. Each
line contains either one <em>m/p</em> value or two space-separated
<em>m/p</em> values, representing move-optimal and push-optimal records
respectively.</p>
<p>By default, record comparison is performed automatically if the level
metadata contains record information, such as:</p>
<ul>
<li>“Move-Record: m/p” and “Push-Record: m/p” headers following the map,
or</li>
<li>“Moves: m Pushes: p” header, which is treated as a move-optimal
record.</li>
</ul>
<p>Record comparison may be explicitly controlled:</p>
<ul>
<li>Always enable record comparison using -R .</li>
<li>Always disable record comparison using -R “”</li>
</ul>
<h2 id="progress-reporting">Progress Reporting</h2>
<p>By default, <code>sokodun</code> prints periodic progress messages
during solving.<br />
This can be disabled with <code>--disable-budget</code>.</p>
<h2 id="running-on-windows">Running on Windows</h2>
<p>On Windows, run <code>sokodun.bat</code> wrapper. This is sometimes
preferable even in the bash environment.</p>
<p>The wrapper automatically detects a suitable Python installation
(using <code>install-deps.bat --check-nogui</code>) and runs the main
<code>sokodun</code> script using the detected interpreter. If no
suitable Python installation or required modules are found, the user is
prompted to run <code>install-deps.bat</code> to install Python and all
required dependencies.</p>
<p>Typing <code>sokodun</code> in <code>cmd.exe</code> or PowerShell
should invoke <code>sokodun.bat</code>. The usage and behavior should
match what is described here, except that <em>Ctrl-C</em> handling may
differ (Windows will first ask whether to terminate the batch job;
answer <em>y</em>).</p>
<p>In a bash environment, you may need to run <code>./sokodun.bat</code>
to distinguish it from <code>./sokodun</code>.</p>
<h2 id="examples">Examples</h2>
<p><code>sokodun -A -t microcosmos.txt</code></p>
<p><code>sokodun -1 -q https://url-shortener.me/5NTJ 2-10</code></p>
<p><code>sokodun -1 -t -T 300 takaken.txt original-1-modified.txt letslogic:8 1-6 8-18</code></p>
<p>These commands solve the specified Sokoban collections or individual
levels using the selected options (search algorithm, return-first mode,
time limit, and output behavior).</p>

</div>
</div>
</body>
</html>
